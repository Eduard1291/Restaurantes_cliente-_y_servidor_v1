{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ASUS/Desktop/prueba_tecnica/pagina/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/ASUS/Desktop/prueba_tecnica/pagina/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/ASUS/Desktop/prueba_tecnica/pagina/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useEffect,useState}from'react';import Limenus from'./Limenus';import'./estilosComponentes/Limenus.css';import PantallaAñadirMenu from'./PantallaAñadirMenu';import servidores from'./servidores.json';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MenusRestaurantes=function MenusRestaurantes(datos){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),meus=_useState2[0],setmenus=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),menusdiff=_useState4[0],setmenusdiff=_useState4[1];function pedirMenus(){return _pedirMenus.apply(this,arguments);}function _pedirMenus(){_pedirMenus=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var respuesta;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(servidores.urlserver+\"/restaurantes/menu?razonSocial=\"+datos.razonSocial);case 2:respuesta=_context.sent;setmenus(respuesta.data);pedirMenusDIFF();case 5:case\"end\":return _context.stop();}},_callee);}));return _pedirMenus.apply(this,arguments);}function pedirMenusDIFF(){return _pedirMenusDIFF.apply(this,arguments);}function _pedirMenusDIFF(){_pedirMenusDIFF=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var respuesta;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(servidores.urlserver+\"/restaurantes/menudiff?razonSocial=\"+datos.razonSocial);case 2:respuesta=_context2.sent;setmenusdiff(respuesta.data);console.log(respuesta.data);case 5:case\"end\":return _context2.stop();}},_callee2);}));return _pedirMenusDIFF.apply(this,arguments);}function quitar(_x){return _quitar.apply(this,arguments);}function _quitar(){_quitar=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(menu){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.delete(servidores.urlserver+\"/restaurantes/deleteMenu\",{data:{nombreMenu:\"\"+menu.nombreMenu,razonSocial:\"\"+datos.razonSocial}});case 2://window.location.reload()\npedirMenus();case 3:case\"end\":return _context3.stop();}},_callee3);}));return _quitar.apply(this,arguments);}useEffect(function(){pedirMenus();//\n},[]);var menusdelrestaurnte=meus.map(function(info,index){return/*#__PURE__*/_jsx(Limenus,{menusinfo:info,index:index,quitar:quitar});});var menusDiferentes=menusdiff.map(function(info,index){return/*#__PURE__*/_jsx(PantallaAñadirMenu,{menusinfo:info,index:index,añadir:añadirmenu});});function añadirmenu(_x2){return _añadirmenu.apply(this,arguments);}function _añadirmenu(){_añadirmenu=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(menu){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.put(servidores.urlserver+\"/restaurantes/addMenu\",{nombreMenu:\"\"+menu.nombreMenu,razonSocial:\"\"+datos.razonSocial});case 2://window.location.reload()\npedirMenus();case 3:case\"end\":return _context4.stop();}},_callee4);}));return _añadirmenu.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"contenedorlistaMenuu\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"tituloM\",children:\"Menus\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"contenedorlistalimenu\",children:menusdelrestaurnte}),/*#__PURE__*/_jsx(\"hr\",{className:\"lineaeditar\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"tituloM\",children:\"Menus disponibles\"}),/*#__PURE__*/_jsx(\"ul\",{children:menusDiferentes})]});};export default MenusRestaurantes;","map":{"version":3,"names":["axios","React","useEffect","useState","Limenus","PantallaAñadirMenu","servidores","MenusRestaurantes","datos","meus","setmenus","menusdiff","setmenusdiff","pedirMenus","get","urlserver","razonSocial","respuesta","data","pedirMenusDIFF","console","log","quitar","menu","delete","nombreMenu","menusdelrestaurnte","map","info","index","menusDiferentes","añadirmenu","put"],"sources":["C:/Users/ASUS/Desktop/prueba_tecnica/pagina/src/componentes/MenusRestaurantes.js"],"sourcesContent":["import axios from 'axios'\r\nimport React, { useEffect, useState } from 'react'\r\nimport Limenus from './Limenus'\r\nimport './estilosComponentes/Limenus.css'\r\nimport PantallaAñadirMenu from './PantallaAñadirMenu'\r\nimport servidores from './servidores.json'\r\nconst MenusRestaurantes = (datos) => {\r\n  const [meus,setmenus]=useState([])\r\n  const [menusdiff,setmenusdiff]=useState([])\r\n  async function pedirMenus(){\r\n    const respuesta=await axios.get(servidores.urlserver+\"/restaurantes/menu?razonSocial=\"+datos.razonSocial)\r\n    setmenus(respuesta.data)\r\n    pedirMenusDIFF();\r\n  }\r\n  async function pedirMenusDIFF(){\r\n    const respuesta=await axios.get(servidores.urlserver+\"/restaurantes/menudiff?razonSocial=\"+datos.razonSocial)\r\n    setmenusdiff(respuesta.data)\r\n    console.log(respuesta.data)\r\n  }\r\n  async function quitar(menu){\r\n    await axios.delete(servidores.urlserver+\"/restaurantes/deleteMenu\",{\r\n            data: {\r\n                nombreMenu:\"\"+menu.nombreMenu,\r\n                razonSocial:\"\"+datos.razonSocial\r\n            }\r\n    })\r\n    //window.location.reload()\r\n    pedirMenus()\r\n  }\r\n\r\n  useEffect(()=>{\r\n    pedirMenus();\r\n    //\r\n  },[]);\r\n  const menusdelrestaurnte=meus.map((info,index)=>\r\n    <Limenus menusinfo={info} index={index} quitar={quitar}/>\r\n  )\r\n  const menusDiferentes=menusdiff.map((info,index)=>\r\n    <PantallaAñadirMenu menusinfo={info} index={index} añadir={añadirmenu} />\r\n  )\r\n  async function añadirmenu(menu){\r\n      await axios.put(servidores.urlserver+\"/restaurantes/addMenu\",{\r\n        nombreMenu:\"\"+menu.nombreMenu,\r\n        razonSocial:\"\"+datos.razonSocial\r\n      })\r\n      //window.location.reload()\r\n      pedirMenus()\r\n  }\r\n  return (\r\n    <div className='contenedorlistaMenuu'>\r\n        <h2 className='tituloM'>Menus</h2>\r\n        <ul className='contenedorlistalimenu'>\r\n          {menusdelrestaurnte}\r\n        </ul>\r\n        <hr className='lineaeditar'/>\r\n        <h2 className='tituloM'>Menus disponibles</h2>\r\n        <ul>\r\n            {menusDiferentes}\r\n        </ul>\r\n       \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MenusRestaurantes"],"mappings":"mZAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAOC,QAAO,KAAM,WAAW,CAC/B,MAAO,kCAAkC,CACzC,MAAOC,mBAAkB,KAAM,sBAAsB,CACrD,MAAOC,WAAU,KAAM,mBAAmB,yFAC1C,GAAMC,kBAAiB,CAAG,QAApBA,kBAAiB,CAAIC,KAAK,CAAK,CACnC,cAAsBL,QAAQ,CAAC,EAAE,CAAC,wCAA3BM,IAAI,eAACC,QAAQ,eACpB,eAA+BP,QAAQ,CAAC,EAAE,CAAC,yCAApCQ,SAAS,eAACC,YAAY,eAAc,QAC5BC,WAAU,0IAAzB,wKACwBb,MAAK,CAACc,GAAG,CAACR,UAAU,CAACS,SAAS,CAAC,iCAAiC,CAACP,KAAK,CAACQ,WAAW,CAAC,QAAnGC,SAAS,eACfP,QAAQ,CAACO,SAAS,CAACC,IAAI,CAAC,CACxBC,cAAc,EAAE,CAAC,qDAClB,qDACcA,eAAc,sJAA7B,8KACwBnB,MAAK,CAACc,GAAG,CAACR,UAAU,CAACS,SAAS,CAAC,qCAAqC,CAACP,KAAK,CAACQ,WAAW,CAAC,QAAvGC,SAAS,gBACfL,YAAY,CAACK,SAAS,CAACC,IAAI,CAAC,CAC5BE,OAAO,CAACC,GAAG,CAACJ,SAAS,CAACC,IAAI,CAAC,wDAC5B,yDACcI,OAAM,gIAArB,kBAAsBC,IAAI,8IAClBvB,MAAK,CAACwB,MAAM,CAAClB,UAAU,CAACS,SAAS,CAAC,0BAA0B,CAAC,CAC3DG,IAAI,CAAE,CACFO,UAAU,CAAC,EAAE,CAACF,IAAI,CAACE,UAAU,CAC7BT,WAAW,CAAC,EAAE,CAACR,KAAK,CAACQ,WACzB,CACR,CAAC,CAAC,QACF;AACAH,UAAU,EAAE,wDACb,yCAEDX,SAAS,CAAC,UAAI,CACZW,UAAU,EAAE,CACZ;AACF,CAAC,CAAC,EAAE,CAAC,CACL,GAAMa,mBAAkB,CAACjB,IAAI,CAACkB,GAAG,CAAC,SAACC,IAAI,CAACC,KAAK,qBAC3C,KAAC,OAAO,EAAC,SAAS,CAAED,IAAK,CAAC,KAAK,CAAEC,KAAM,CAAC,MAAM,CAAEP,MAAO,EAAE,GAC1D,CACD,GAAMQ,gBAAe,CAACnB,SAAS,CAACgB,GAAG,CAAC,SAACC,IAAI,CAACC,KAAK,qBAC7C,KAAC,kBAAkB,EAAC,SAAS,CAAED,IAAK,CAAC,KAAK,CAAEC,KAAM,CAAC,MAAM,CAAEE,UAAW,EAAG,GAC1E,SACcA,WAAU,6IAAzB,kBAA0BR,IAAI,8IACpBvB,MAAK,CAACgC,GAAG,CAAC1B,UAAU,CAACS,SAAS,CAAC,uBAAuB,CAAC,CAC3DU,UAAU,CAAC,EAAE,CAACF,IAAI,CAACE,UAAU,CAC7BT,WAAW,CAAC,EAAE,CAACR,KAAK,CAACQ,WACvB,CAAC,CAAC,QACF;AACAH,UAAU,EAAE,wDACf,6CACD,mBACE,aAAK,SAAS,CAAC,sBAAsB,wBACjC,WAAI,SAAS,CAAC,SAAS,UAAC,OAAK,EAAK,cAClC,WAAI,SAAS,CAAC,uBAAuB,UAClCa,kBAAkB,EAChB,cACL,WAAI,SAAS,CAAC,aAAa,EAAE,cAC7B,WAAI,SAAS,CAAC,SAAS,UAAC,mBAAiB,EAAK,cAC9C,oBACKI,eAAe,EACf,GAEH,CAEV,CAAC,CAED,cAAevB,kBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}