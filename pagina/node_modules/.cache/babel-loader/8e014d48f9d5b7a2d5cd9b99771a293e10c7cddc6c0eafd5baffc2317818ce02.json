{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ASUS/Desktop/prueba_tecnica/pagina/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/ASUS/Desktop/prueba_tecnica/pagina/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/ASUS/Desktop/prueba_tecnica/pagina/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useEffect,useState}from'react';import BotonQuitar from'./BotonQuitar';import servidores from'./servidores.json';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var ListaIngredientesEdit=function ListaIngredientesEdit(datos){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),ingredientes=_useState2[0],setIngredientes=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),nombreingrediente=_useState4[0],setnombreingrediente=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),caloriaingrediente=_useState6[0],setcaloriaingrediente=_useState6[1];function registros(){return _registros.apply(this,arguments);}function _registros(){_registros=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var respuesta;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(servidores.urlserver+\"/ingredientes?NombreMenu=\"+datos.parametros.nombreMenu);case 2:respuesta=_context.sent;setIngredientes(respuesta.data);case 4:case\"end\":return _context.stop();}},_callee);}));return _registros.apply(this,arguments);}useEffect(function(){registros();},[]);function agregarIngrediente(){return _agregarIngrediente.apply(this,arguments);}function _agregarIngrediente(){_agregarIngrediente=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var contador,repuesta,i;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:contador=parseInt(caloriaingrediente);for(i=0;i<ingredientes.length;i++){contador+=parseInt(ingredientes[i].caloria);}alert(contador);if(!(contador<=2000)){_context2.next=9;break;}_context2.next=6;return axios.put(servidores.urlserver+\"/ingredientes/create\",{nombreMenu:''+datos.parametros.nombreMenu,nombreIngrediente:''+nombreingrediente,caloria:''+caloriaingrediente});case 6:repuesta=_context2.sent;_context2.next=10;break;case 9:alert(\"la suma total de las calorias no pueden superar las 2000 calorias\");case 10:if(repuesta.data===1){registros();}else{alert(\"no se pudo añadir el ingrediente\");}case 11:case\"end\":return _context2.stop();}},_callee2);}));return _agregarIngrediente.apply(this,arguments);}function quitarIngrediente(_x){return _quitarIngrediente.apply(this,arguments);}function _quitarIngrediente(){_quitarIngrediente=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(datosI){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.delete(servidores.urlserver+\"/ingredientes/delete?idIngrediente=\"+datosI);case 2:registros();case 3:case\"end\":return _context3.stop();}},_callee3);}));return _quitarIngrediente.apply(this,arguments);}var elementos=ingredientes.map(function(datosI,index){return/*#__PURE__*/_jsxs(\"li\",{className:\"listaIngredientess\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[datosI.nombreIngrediente,\" contiene \",datosI.caloria,\" calorias\"]}),/*#__PURE__*/_jsx(BotonQuitar,{quitarIngrediente:quitarIngrediente,datosLista:datosI.idIngredientes})]},index);});return/*#__PURE__*/_jsxs(\"div\",{className:\"ingredientesEdit\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"agregarIngrediente\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Nombre:\",/*#__PURE__*/_jsx(\"input\",{name:\"nombreIngrediente\",value:nombreingrediente,onChange:function onChange(evento){return setnombreingrediente(evento.target.value);},type:\"text\"})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"calorias:\",/*#__PURE__*/_jsx(\"input\",{name:\"CaloriaIngrediente\",value:caloriaingrediente,onChange:function onChange(evento){return setcaloriaingrediente(evento.target.value);},type:\"number\",min:0,max:2000})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:agregarIngrediente,children:\"agregar\"})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"lineaIngredientes\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"tituloIngredientes\",children:\"Lista Ingredientes\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"lineaIngredientes\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"lista\",children:elementos})]});};export default ListaIngredientesEdit;","map":{"version":3,"names":["axios","React","useEffect","useState","BotonQuitar","servidores","ListaIngredientesEdit","datos","ingredientes","setIngredientes","nombreingrediente","setnombreingrediente","caloriaingrediente","setcaloriaingrediente","registros","get","urlserver","parametros","nombreMenu","respuesta","data","agregarIngrediente","contador","parseInt","i","length","caloria","alert","put","nombreIngrediente","repuesta","quitarIngrediente","datosI","delete","elementos","map","index","idIngredientes","evento","target","value"],"sources":["C:/Users/ASUS/Desktop/prueba_tecnica/pagina/src/componentes/ListaIngredientesEdit.js"],"sourcesContent":["import axios from 'axios'\r\nimport React, { useEffect, useState } from 'react'\r\nimport BotonQuitar from './BotonQuitar'\r\nimport servidores from './servidores.json'\r\nconst ListaIngredientesEdit = (datos) => {\r\n    const [ingredientes,setIngredientes]=useState([])\r\n    const [nombreingrediente,setnombreingrediente]=useState('')\r\n    const [caloriaingrediente,setcaloriaingrediente]=useState('')\r\n\r\n\r\n    async function registros(){\r\n        const respuesta=await axios.get(servidores.urlserver+\"/ingredientes?NombreMenu=\"+datos.parametros.nombreMenu)\r\n        setIngredientes(respuesta.data)\r\n    }\r\n    useEffect(()=>{\r\n        registros();\r\n    },[]);\r\n    async function agregarIngrediente(){\r\n        let contador=parseInt(caloriaingrediente)\r\n        let repuesta\r\n        for(let i=0;i<ingredientes.length;i++){\r\n            contador+=parseInt(ingredientes[i].caloria)\r\n        }\r\n        alert(contador)\r\n        if (contador<=2000){\r\n                repuesta=await axios.put(servidores.urlserver+\"/ingredientes/create\",{\r\n                nombreMenu:''+datos.parametros.nombreMenu,\r\n                nombreIngrediente:''+nombreingrediente,\r\n                caloria:''+caloriaingrediente\r\n            })\r\n        }else{\r\n            alert(\"la suma total de las calorias no pueden superar las 2000 calorias\")\r\n            \r\n        }\r\n        if (repuesta.data===1){\r\n            registros()\r\n        }else{\r\n            alert(\"no se pudo añadir el ingrediente\")\r\n        }\r\n    }\r\n\r\n    async function quitarIngrediente(datosI){\r\n        await axios.delete(servidores.urlserver+\"/ingredientes/delete?idIngrediente=\"+datosI)\r\n        registros()\r\n    }\r\n    const elementos=ingredientes.map((datosI,index)=>\r\n        <li key={index} className='listaIngredientess'>\r\n            <p>{datosI.nombreIngrediente} contiene {datosI.caloria} calorias</p>\r\n            <BotonQuitar quitarIngrediente={quitarIngrediente} datosLista={datosI.idIngredientes} />        \r\n        </li>\r\n    )\r\n    \r\n  return (\r\n    <div className='ingredientesEdit'>\r\n        <div className='agregarIngrediente'>\r\n            <label>\r\n                Nombre:\r\n                <input name='nombreIngrediente' value={nombreingrediente} onChange={evento=>setnombreingrediente(evento.target.value)} type='text'/>\r\n            </label>\r\n            <label>\r\n            calorias:\r\n                <input name='CaloriaIngrediente' value={caloriaingrediente} onChange={evento=>setcaloriaingrediente(evento.target.value)} type='number' min={0} max={2000}/>\r\n            </label>      \r\n            <button type='submit' onClick={agregarIngrediente}>agregar</button>\r\n        </div>\r\n        <hr className='lineaIngredientes'/>\r\n        <h2 className='tituloIngredientes'>Lista Ingredientes</h2>\r\n        <hr className='lineaIngredientes'/>\r\n        <ul className='lista'>\r\n            {elementos}\r\n        </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ListaIngredientesEdit"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}