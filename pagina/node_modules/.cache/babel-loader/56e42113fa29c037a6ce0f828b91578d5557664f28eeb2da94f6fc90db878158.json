{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ASUS/Desktop/prueba_tecnica/pagina/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/ASUS/Desktop/prueba_tecnica/pagina/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/ASUS/Desktop/prueba_tecnica/pagina/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'./estilosComponentes/AddRestaurante.css';import axios from'axios';import ElementoMenu from'./ElementoMenu';import servidores from'./servidores.json';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddRestaurante=function AddRestaurante(){//link para traer las menus de la api\nvar url=servidores.urlserver+\"/menus\";//variable dinamica para los Menus\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),Menus=_useState2[0],setrestaurantes=_useState2[1];//hace una peticion get a la api para taer los menus\nfunction peticionMenus(){return _peticionMenus.apply(this,arguments);}//ejecta la funcion de traer menus cuando de renderisa el componente\nfunction _peticionMenus(){_peticionMenus=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var peticion;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(url);case 2:peticion=_context.sent;setrestaurantes(peticion.data);case 4:case\"end\":return _context.stop();}},_callee);}));return _peticionMenus.apply(this,arguments);}useEffect(function(){peticionMenus();},[]);var registros=Menus.map(function(datos,index){return/*#__PURE__*/_jsx(ElementoMenu,{idMenu:datos.idMenu,indexkey:index,nombreMenu:datos.nombreMenu,tipoMenu:datos.tipoMenu,precio:datos.precio});});function regresar(){window.location.assign(servidores.urlpaginweb+\"/Restaurantes\");}function crear(_x){return _crear.apply(this,arguments);}function _crear(){_crear=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(evento){var respuesta,i;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(!(evento.target.razonsocial.value!==''&&evento.target.nombrecomercial.value!==''&&evento.target.ciudad.value!==''&&evento.target.horaapertura.value!==''&&evento.target.horacierre.value!=='')){_context2.next=19;break;}_context2.next=3;return axios.put(servidores.urlserver+\"/restaurantes/create\",{razonSocial:''+evento.target.razonsocial.value,nombreComercial:''+evento.target.nombrecomercial.value,tipoRestaurante:''+evento.target.tipoRestaurante.value,ciudad:''+evento.target.ciudad.value,horaApertura:''+evento.target.horaapertura.value,horaCierre:''+evento.target.horacierre.value});case 3:respuesta=_context2.sent;if(!(respuesta.data===1)){_context2.next=16;break;}i=8;case 6:if(!(i<8+Menus.length)){_context2.next=13;break;}if(!(evento.target[i].checked===true)){_context2.next=10;break;}_context2.next=10;return axios.put(servidores.urlserver+\"/restaurantes/addMenu\",{nombreMenu:''+evento.target[i].id,razonSocial:''+evento.target.razonsocial.value});case 10:i++;_context2.next=6;break;case 13:window.location.assign(servidores.urlpaginweb+\"/Restaurantes\");_context2.next=17;break;case 16:alert(\"no se pudo registrar el restaurante ya existe uno con una razon social igual\");case 17:_context2.next=20;break;case 19:alert(\"falta un campo por llenar\");case 20:case\"end\":return _context2.stop();}},_callee2);}));return _crear.apply(this,arguments);}return/*#__PURE__*/_jsx(\"form\",{onSubmit:function onSubmit(evento){evento.preventDefault();crear(evento);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"AddRestaurante\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"headerAddRestaurante\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"regresarInicio\",onClick:regresar,type:\"button\"}),/*#__PURE__*/_jsx(\"button\",{className:\"botoncrear\",type:\"submit\",children:\"Crear\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"formulario\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Razon social\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"razonsocial\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Nombre comercial\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nombrecomercial\"})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Tipo de Restaurante\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"tipoRestaurante\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Vegano\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"Vegetariano\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"Carnes Rojas\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"Aves\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Ciudad\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"ciudad\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"seleccionarHora\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"time\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Hora de apertra\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",name:\"horaapertura\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Hora de cierre\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",name:\"horacierre\"})]})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Menus\"}),/*#__PURE__*/_jsx(\"label\",{children:registros})]})]})});};export default AddRestaurante;","map":{"version":3,"names":["React","useState","useEffect","axios","ElementoMenu","servidores","AddRestaurante","url","urlserver","Menus","setrestaurantes","peticionMenus","get","peticion","data","registros","map","datos","index","idMenu","nombreMenu","tipoMenu","precio","regresar","window","location","assign","urlpaginweb","crear","evento","target","razonsocial","value","nombrecomercial","ciudad","horaapertura","horacierre","put","razonSocial","nombreComercial","tipoRestaurante","horaApertura","horaCierre","respuesta","i","length","checked","id","alert","preventDefault"],"sources":["C:/Users/ASUS/Desktop/prueba_tecnica/pagina/src/componentes/AddRestaurante.js"],"sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport './estilosComponentes/AddRestaurante.css'\r\nimport axios from 'axios'\r\nimport ElementoMenu from './ElementoMenu'\r\nimport servidores from './servidores.json'\r\nconst AddRestaurante = () => {\r\n  //link para traer las menus de la api\r\n  const url=servidores.urlserver+\"/menus\"\r\n  //variable dinamica para los Menus\r\n  const [Menus,setrestaurantes]=useState([])\r\n  //hace una peticion get a la api para taer los menus\r\n  async function peticionMenus(){\r\n    const peticion= await axios.get(url);\r\n    setrestaurantes(peticion.data);\r\n  }\r\n  //ejecta la funcion de traer menus cuando de renderisa el componente\r\n  useEffect(()=>{\r\n    peticionMenus();\r\n  },[]);\r\n\r\n  const registros=Menus.map((datos,index)=>\r\n    <ElementoMenu idMenu={datos.idMenu} indexkey={index}nombreMenu={datos.nombreMenu} tipoMenu={datos.tipoMenu} precio={datos.precio}/>\r\n  );\r\n  function regresar(){\r\n    window.location.assign(servidores.urlpaginweb+\"/Restaurantes\");\r\n  }\r\n  async function crear(evento){\r\n    if (evento.target.razonsocial.value!=='' && evento.target.nombrecomercial.value!=='' && evento.target.ciudad.value!=='' && evento.target.horaapertura.value!=='' && evento.target.horacierre.value!==''){\r\n      const respuesta=await axios.put(servidores.urlserver+\"/restaurantes/create\",\r\n      {razonSocial:''+evento.target.razonsocial.value,\r\n        nombreComercial:''+evento.target.nombrecomercial.value,\r\n        tipoRestaurante:''+evento.target.tipoRestaurante.value,\r\n        ciudad:''+evento.target.ciudad.value,\r\n        horaApertura:''+evento.target.horaapertura.value,\r\n        horaCierre:''+evento.target.horacierre.value\r\n      })\r\n      if (respuesta.data===1){\r\n        for (var i=8;i<8+Menus.length;i++){\r\n          if(evento.target[i].checked===true){\r\n            await axios.put(servidores.urlserver+\"/restaurantes/addMenu\",{\r\n              nombreMenu:''+evento.target[i].id,\r\n              razonSocial:''+evento.target.razonsocial.value\r\n            })\r\n          }\r\n        }\r\n        window.location.assign(servidores.urlpaginweb+\"/Restaurantes\");\r\n      }else{\r\n        alert(\"no se pudo registrar el restaurante ya existe uno con una razon social igual\")\r\n      }\r\n      \r\n    }else{\r\n      alert(\"falta un campo por llenar\")\r\n    }\r\n  }\r\n  return (\r\n    <form onSubmit={evento=>{evento.preventDefault();crear(evento);}}>\r\n    <div className='AddRestaurante'>\r\n      <header className='headerAddRestaurante'>\r\n          <button className='regresarInicio' onClick={regresar} type='button'></button>\r\n          <button className='botoncrear' type='submit'>Crear</button>\r\n      </header>\r\n      <div className='formulario'>\r\n        <label>\r\n          <p>Razon social</p>\r\n          <input type='text' name='razonsocial'/>\r\n          <p>Nombre comercial</p>\r\n          <input type='text' name='nombrecomercial'/>\r\n        </label>\r\n        <label>\r\n          <p>Tipo de Restaurante</p>\r\n          <select name='tipoRestaurante'>\r\n            <option value='1'>Vegano</option>\r\n            <option value='2'>Vegetariano</option>\r\n            <option value='3'>Carnes Rojas</option>\r\n            <option value='4'>Aves</option>\r\n          </select>\r\n          <p>Ciudad</p>\r\n          <input type='text' name='ciudad'/>\r\n        </label> \r\n        <label className='seleccionarHora'>\r\n          <div className='time'>\r\n            <p>Hora de apertra</p>\r\n            <input type='time'name='horaapertura'/>\r\n          </div>\r\n          <div>\r\n            <p>Hora de cierre</p>\r\n            <input type='time' name='horacierre'/>\r\n          </div>  \r\n        </label>\r\n        <h3>Menus</h3>\r\n        <label>\r\n        {registros}\r\n        </label>    \r\n      </div>\r\n\r\n    </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default AddRestaurante"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}