{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ASUS/Desktop/prueba_tecnica/pagina/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"C:/Users/ASUS/Desktop/prueba_tecnica/pagina/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"C:/Users/ASUS/Desktop/prueba_tecnica/pagina/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/ASUS/Desktop/prueba_tecnica/pagina/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useRef,useState}from'react';import ElementoIngrediente from'./ElementoIngrediente';import servidores from'./servidores.json';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddMenus=function AddMenus(){var nombreIngrediente=useRef(null);var caloriasingrediente=useRef(null);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),lista1=_useState2[0],setlista1=_useState2[1];function regresar(){window.location.assign(servidores.urlpaginweb+\"/Menus\");}function crear(_x){return _crear.apply(this,arguments);}function _crear(){_crear=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(evento){var respuesta,i;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(evento.target.precio.value!==''&&evento.target.nombreMenu.value!=='')){_context.next=18;break;}_context.next=3;return axios.put(servidores.urlserver+\"/menus/create\",{tipoMenu:\"\"+evento.target.tipoMenu.value,nombreMenu:\"\"+evento.target.nombreMenu.value,precio:\"\"+evento.target.precio.value.replace(\",\",\".\")});case 3:respuesta=_context.sent;if(!(respuesta.data===1)){_context.next=15;break;}i=0;case 6:if(!(i<lista1.length)){_context.next=12;break;}_context.next=9;return axios.put(servidores.urlserver+\"/ingredientes/create\",{nombreMenu:\"\"+evento.target.nombreMenu.value,nombreIngrediente:\"\"+lista1[i][0],caloria:\"\"+lista1[i][1]});case 9:i++;_context.next=6;break;case 12:window.location.assign(servidores.urlpaginweb+\"/Menus\");_context.next=16;break;case 15:alert(\"huvo un error al crear el menu\");case 16:_context.next=19;break;case 18:alert(\"falta un espacio por rellenar\");case 19:case\"end\":return _context.stop();}},_callee);}));return _crear.apply(this,arguments);}function quitar(cont){setlista1(lista1.filter(function(datos,index){return index!==cont;}));}function añadiringrediente(){var contador=parseInt(caloriasingrediente.current.value);for(var i=0;i<lista1.length;i++){contador+=parseInt(lista1[i][1]);}if(contador<=2000){setlista1([].concat(_toConsumableArray(lista1),[[nombreIngrediente.current.value,caloriasingrediente.current.value]]));nombreIngrediente.current.value=\"\";caloriasingrediente.current.value=\"\";}else{alert(\"la suma de las calorias totale sno puede superar las 2000 calorias\");}}var ingredientes=lista1.map(function(datos,index){return/*#__PURE__*/_jsx(ElementoIngrediente,{datos:datos,index:index,quitar:quitar});});return/*#__PURE__*/_jsx(\"form\",{onSubmit:function onSubmit(evento){evento.preventDefault();crear(evento);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"AddRestaurante\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"headerAddRestaurante\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"regresarInicio\",onClick:regresar,type:\"button\"}),/*#__PURE__*/_jsx(\"button\",{className:\"botoncrear\",name:\"crear\",type:\"submit\",children:\"Crear\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"formulario\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Nombre\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nombreMenu\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Tipo de Menu\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"tipoMenu\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Entrada\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"Plato Fuerte\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"Postres\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"Bebidas\"})]})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Precio \"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",min:0,name:\"precio\"})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Nombre\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nombreingrediente\",ref:nombreIngrediente})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Calorias\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:1,name:\"caloriasingrediente\",ref:caloriasingrediente})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"botonA\\xF1adir\",type:\"button\",onClick:añadiringrediente,children:\"a\\xF1adir\"}),/*#__PURE__*/_jsx(\"ul\",{children:ingredientes})]})]})});};export default AddMenus;","map":{"version":3,"names":["axios","React","useRef","useState","ElementoIngrediente","servidores","AddMenus","nombreIngrediente","caloriasingrediente","lista1","setlista1","regresar","window","location","assign","urlpaginweb","crear","evento","target","precio","value","nombreMenu","put","urlserver","tipoMenu","replace","respuesta","data","i","length","caloria","alert","quitar","cont","filter","datos","index","añadiringrediente","contador","parseInt","current","ingredientes","map","preventDefault"],"sources":["C:/Users/ASUS/Desktop/prueba_tecnica/pagina/src/componentes/AddMenus.js"],"sourcesContent":["import axios from 'axios'\r\nimport React,{useRef,useState} from 'react'\r\nimport ElementoIngrediente from './ElementoIngrediente'\r\nimport servidores from './servidores.json'\r\n\r\nconst AddMenus = () => {\r\n    let nombreIngrediente=useRef(null)\r\n    let caloriasingrediente=useRef(null)\r\n    const [lista1,setlista1]=useState([])\r\n    function regresar(){\r\n        window.location.assign(servidores.urlpaginweb+\"/Menus\");\r\n    }\r\n    async function crear(evento){\r\n        if(evento.target.precio.value!=='' && evento.target.nombreMenu.value !==''){\r\n            const respuesta=await axios.put(servidores.urlserver+\"/menus/create\",{\r\n            tipoMenu:\"\"+evento.target.tipoMenu.value,\r\n            nombreMenu:\"\"+evento.target.nombreMenu.value,\r\n            precio:\"\"+evento.target.precio.value.replace(\",\",\".\")\r\n            })\r\n            if(respuesta.data===1){\r\n                for(var i=0;i<lista1.length;i++){\r\n                    await axios.put(servidores.urlserver+\"/ingredientes/create\",{\r\n                        nombreMenu:\"\"+evento.target.nombreMenu.value,\r\n                        nombreIngrediente:\"\"+lista1[i][0],\r\n                        caloria:\"\"+lista1[i][1]\r\n                    })\r\n                }\r\n                window.location.assign(servidores.urlpaginweb+\"/Menus\");\r\n            }else{\r\n                alert(\"huvo un error al crear el menu\")\r\n            }\r\n        }else{\r\n            alert(\"falta un espacio por rellenar\")\r\n        }\r\n    }\r\n    function quitar(cont){\r\n        setlista1(lista1.filter((datos,index)=>index!==cont))\r\n    }\r\n    \r\n    function añadiringrediente(){\r\n        let contador=parseInt(caloriasingrediente.current.value)\r\n        for(let i=0;i<lista1.length;i++){\r\n            contador+=parseInt(lista1[i][1])\r\n        }\r\n        if (contador<=2000){\r\n            setlista1([...lista1, [nombreIngrediente.current.value,caloriasingrediente.current.value]])\r\n            nombreIngrediente.current.value=\"\"\r\n            caloriasingrediente.current.value=\"\"\r\n        }else{\r\n            alert(\"la suma de las calorias totale sno puede superar las 2000 calorias\")\r\n        }\r\n        \r\n    }\r\n    const ingredientes=  lista1.map((datos,index)=>{\r\n        return(\r\n            <ElementoIngrediente datos={datos} index={index} quitar={quitar}/>\r\n        )\r\n        }\r\n    )\r\n    \r\n  return (\r\n\r\n    <form onSubmit={evento=>{evento.preventDefault();crear(evento);}}>\r\n        <div className='AddRestaurante'>\r\n            <header className='headerAddRestaurante'>\r\n                <button className='regresarInicio' onClick={regresar} type='button'></button>\r\n                <button className='botoncrear' name='crear' type='submit'>Crear</button>\r\n            </header>\r\n            <div className='formulario'>\r\n                <label>\r\n                    <p>Nombre</p>\r\n                    <input type='text' name='nombreMenu'/>\r\n                    <p>Tipo de Menu</p>\r\n                    <select name='tipoMenu'>\r\n                        <option value='1'>Entrada</option>\r\n                        <option value='2'>Plato Fuerte</option>\r\n                        <option value='3'>Postres</option>\r\n                        <option value='4'>Bebidas</option>\r\n                    </select>\r\n                </label>\r\n                <label>\r\n                    <p>Precio </p>\r\n                    <input type='number' step=\"0.01\" min={0} name='precio'/>\r\n                </label>\r\n                <label>\r\n                <div>\r\n                    <p>Nombre</p>\r\n                    <input type='text' name='nombreingrediente' ref={nombreIngrediente}/>\r\n                </div>\r\n                <div>\r\n                    <p>Calorias</p>\r\n                    <input type='number'  min={1} name='caloriasingrediente' ref={caloriasingrediente}/>\r\n                </div>\r\n                </label>\r\n                <button className='botonAñadir' type='button' onClick={añadiringrediente}>añadir</button>\r\n                <ul>\r\n                    {ingredientes}\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default AddMenus\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}